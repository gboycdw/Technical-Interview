# Network

### TCP와 UDP

1. UDP(User Datagram Protocol, 사용자 데이터그램 프로토콜)

   > - 사용하는 곳 : DNS
   > - 데이터 전송 방식 : IP 데이터그램 캡슐화하여 보내는 방법 / 연결 설정을 하지 않고 보내는 방법.
   > - 장점 : 코드가 간단하고, 초기 설정에서 요구되는 프로토콜보다 적은 메시지가 요구됨.
   >   단점 : 신뢰성과 순차적인 전달 불가능, 흐름&오류제어 또는 손상된 세그먼트의 수신에 대한 재전송을 하지 않음.
   >
2. TCP(Transmission Control Protocol, 전송제어 프로토콜)

   > - 사용하는 곳 :
   > - 데이터 전송 방식 : 신뢰성이 없는 인터넷을 통해 종단간에 신뢰성 있는 바이트 스트림을 전송하도록 설계됨.
   >   → 송신자와 수신자 모두 `Socket` 이라고 부르는 종단점을 생성함으로써 서비스가 이루어진다.
   > - 연결 설정 : `3-way handshake`를 통해 행해진다.
   > - 연결 방식 :
   > - 전이중(full-duplex) : 전송이 양방향으로 동시에 일어날 수 있다.
   > - 점대점(point to point) 방식 : 각 연결이 정확히 2개의 종단점을 가지고 있다.
   > - 멀티캐스팅과 브로드캐스팅을 지원하지 않음.

### TCP의 3-way handshake

조금 복잡한 내용인 관계로, 링크로 대신한다 [[링크]](https://asfirstalways.tistory.com/356)

### 네트워크 7계층 구조 (OSI 7계층)

네트워크 프로토콜이 통신하는 구조를 7계층으로 분리하여 각 계층간 상호작동 방식을 정한 것이다.

| Layer |              Name              |           단위(PDU)           |                  프로토콜                  |                    예시                    | 디바이스              |
| :---: | :-----------------------------: | :---------------------------: | :----------------------------------------: | :-----------------------------------------: | --------------------- |
|   7   |  응용 계층<br />(Application)  |             Data             |     HTTP,SMTP,SSH,FTP,<br />DNS,Telnet     |      Google Chrome, Email,<br />Telnet      |                       |
|   6   |  표현 계층<br />(Presentation)  |             Data             |        ASCII, MPEG, JPEG,<br />MIDI        |      인코딩/디코딩,<br />암호화/복호화      |                       |
|   5   |    세션 계층<br />(Session)    |             Data             |   NetBIOS, SAP, SDP,<br />PIPO, SSL, TLS   |                                            |                       |
|   4   |   전송 계층<br />(Transport)   | TCP-Segment<br />UDP-datagram |            TCP, UDP, SPX, SCTP            |            방화벽 및 프록시 서버            | 게이트웨이            |
|   3   |  네트워크 계층<br />(Network)  |            Packet            |               IP, IPX, IPsec               |                   라우터                   | 라우터<br />L3 스위치 |
|   2   | 데이터링크 계층<br />(DataLink) |             Frame             | Ethernet, Token Ring,<br />AppleTalk, PPP, |                 MAC Address                 | 브릿지<br />스위치    |
|   1   |    물리 계층<br />(Physical)    |              Bit              | wired, wireless, ISDN, DSL,<br />10BASE-T, | 네트워크 어댑터, 전압,<br />허브, 신호 변경 | 허브<br />리피터      |

1. 응용 계층
   사용자가 볼 수 있는 유일한 계층으로, 사용자가 실행하는 응용 프로그램들이 응용 계층에 속한다. 사용자가 네트워크 자원에 접근하는 방법을 제공하며, ``Google Chrome``, E-mail, DB 관리, Telnet 등의 서비스를 제공한다.
2. 표현 계층
   응용 계층에서 전달받은 데이터를 읽을 수 있는 형식으로 변환한다. ``인코딩, 디코딩 및 암호화,복호화`` 작업이 이 계층에서 일어난다.
3. 세션 계층
   ``포트 연결``이라고 부르는, 컴퓨터 간 대화나 세션을 관리한다. 연결이 양방향인지 단방향인지 확인하고, 체크 포인팅과 유휴, 재시작 과정 등을 수행한다.
4. 전송 계층
   하위 계층에 신뢰할 수 있는 데이터 전송 서비스를 제공하는 것으로, 컴퓨터 간에 신뢰성 있는 데이터를 주고받을 수 있도록 한다. 연결형 프로토콜과 비연결형 프로토콜을 모두 사용하며, ``방화벽이나 프록시 서버``가 해당한다.
5. 네트워크 계층
   네트워크 간 데이터 ``라우팅(네트워크 안에서 통신 데이터를 짜여진 알고리즘에 의해 최대한 빠르게 보낼 최적의 경로를 선택하는 과정)``을 담당한다. 네트워크 호스트의 논리 주소(IP)를 확인하고, 여러 개의 노드를 거칠 때마다 경로를 찾아주는 엯할을 한다. 노드(라우터)에서 노드로 가는 경로를 hop(홉)이라 하는데, ``2홉 이상의 통신(멀티 홉 통신)``을 담당한다.
6. 데이터링크 계층
   물리적인 네트워크를 통해 데이터를 전송하는 수단을 제공한다. 다른 말로, 1홉 통신을 담당한다. point-to-point 간에 신뢰성 있는 전송을 보장하기 위한 계층으로, CRC 기반의 오류 제어와 흐름 제어가 필요하다. ``MAC Address``를 통해 통신한다.
7. 물리 계층
   네트워크 데이터가 전송되는 물리적인 매체로, 데이터는 Bit로 이루어져 있다. 연결을 설정/종료하고 통신 자원을 공유하는 수단을 제공하며 디지털-아날로그 신호 변환 역할을 한다.

#### 네트워크 7계층과 비교되는 것으로 TCP/IP 4계층이 있다.

응용 계층, 전송 계층, 인터넷 계층, 네트워크 액세스 계층의 4단계로 구성되어 있다.

공통점과 차이점에 대해 다음과 같이 간략하게 정리할 수 있다.

- 공통점
  1. 계층 역할 : 캡슐화, 프로토콜 사용, 서비스 프리미티브(?)
  2. 통신 역할 : 페이러드 전송 기능, 다중화/역다중화
- 차이점
  1. OSI 7계층 : 7계층 / 역할 기반 / 통신모델 표준 제시 / 통신 전반적인 기술 표준화
  2. TCP/IP 4계층 : 4계층 / 프로토콜 집합 기반 / 실무적 통신기술 구현 / 데이터 전송기술 특화
